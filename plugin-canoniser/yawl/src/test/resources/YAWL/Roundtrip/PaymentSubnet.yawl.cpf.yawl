<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<specificationSet xmlns="http://www.yawlfoundation.org/yawlschema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="2.2" xsi:schemaLocation="http://www.yawlfoundation.org/yawlschema http://www.yawlfoundation.org/yawlschema/YAWL_Schema2.1.xsd">
    <specification uri="orderfulfillment">
        <name>Order Fulfillment</name>
        <metaData>
            <contributor>Stephan Clemens,Marcello La Rosa and Arthur ter Hofstede</contributor>
            <version>1.1</version>
            <identifier>orderfulfillment</identifier>
        </metaData>
        <xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns="http://www.w3.org/2001/XMLSchema"/>
        <decomposition xsi:type="WebServiceGatewayFactsType" id="id80fdfa02-33e0-44b7-9e86-02cbbad56404"/>
        <decomposition xsi:type="WebServiceGatewayFactsType" id="id77dfc299-3fd5-423d-8fec-9776ed3d0a77"/>
        <decomposition xsi:type="WebServiceGatewayFactsType" id="id5336d049-4c26-4616-bcfa-8332db377066">
            <name>Issue Shipment Invoice</name>
            <inputParam>
                <index>1</index>
                <name>ShipmentInvoice</name>
                <type>ShipmentInvoiceType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </inputParam>
            <outputParam>
                <index>1</index>
                <name>ShipmentInvoice</name>
                <type>ShipmentInvoiceType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </outputParam>
        </decomposition>
        <decomposition xsi:type="WebServiceGatewayFactsType" id="id42f542fb-a594-42b8-9bf8-febb20394c8d">
            <name>Issue Shipment Remittance Advice</name>
            <inputParam>
                <index>1</index>
                <name>ShipmentRemittanceAdvice</name>
                <type>ShipmentRemittanceAdviceType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </inputParam>
            <outputParam>
                <index>1</index>
                <name>ShipmentRemittanceAdvice</name>
                <type>ShipmentRemittanceAdviceType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </outputParam>
        </decomposition>
        <decomposition xsi:type="WebServiceGatewayFactsType" id="idae522318-a4d6-43d2-b1f9-007d10aaef7b">
            <name>Produce Freight Invoice</name>
            <inputParam>
                <index>1</index>
                <name>FreightInvoice</name>
                <type>FreightInvoiceType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </inputParam>
            <outputParam>
                <index>1</index>
                <name>FreightInvoice</name>
                <type>FreightInvoiceType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </outputParam>
        </decomposition>
        <decomposition xsi:type="WebServiceGatewayFactsType" id="f200bbec-c2c5-4674-bb12-139d46e7e987"/>
        <decomposition xsi:type="WebServiceGatewayFactsType" id="f1335212-5b02-4083-82c1-24fb595f0f35">
            <name>Issue Shipment Payment Order</name>
            <inputParam>
                <index>1</index>
                <name>ShipmentPaymentOrder</name>
                <type>ShipmentPaymentOrderType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </inputParam>
            <outputParam>
                <index>1</index>
                <name>ShipmentPaymentOrder</name>
                <type>ShipmentPaymentOrderType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </outputParam>
        </decomposition>
        <decomposition xsi:type="WebServiceGatewayFactsType" id="id05ad7586-02b4-4413-bb4f-784bf02176b4"/>
        <decomposition xsi:type="WebServiceGatewayFactsType" id="idc1c98484-af17-4051-bb74-5536f58f76b6">
            <name>Approve Shipment Payment Order</name>
            <inputParam>
                <index>1</index>
                <name>ShipmentPaymentOrder</name>
                <type>ShipmentPaymentOrderType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </inputParam>
            <outputParam>
                <index>1</index>
                <name>ShipmentPaymentOrderApproval</name>
                <type>ShipmentPaymentOrderApprovalType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </outputParam>
        </decomposition>
        <decomposition xsi:type="WebServiceGatewayFactsType" id="id1ab1a451-b467-4342-a44f-51b04bedb771"/>
        <decomposition xsi:type="WebServiceGatewayFactsType" id="id0fa10f9c-5e22-46a6-b661-ae493f1052c6"/>
        <decomposition xsi:type="WebServiceGatewayFactsType" id="c528b9b5-d1fe-46d7-9da0-b2ca6d63454c">
            <name>Process Shipment Payment</name>
            <inputParam>
                <index>1</index>
                <name>ShipmentPaymentOrder</name>
                <type>ShipmentPaymentOrderType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </inputParam>
            <outputParam>
                <index>1</index>
                <name>ShipmentPayment</name>
                <type>ShipmentPaymentType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </outputParam>
        </decomposition>
        <decomposition xsi:type="WebServiceGatewayFactsType" id="cfbdc634-ffce-4161-873c-aa3d755adf83">
            <name>Update Shipment Payment Order</name>
            <inputParam>
                <index>1</index>
                <name>ShipmentPaymentOrder</name>
                <type>ShipmentPaymentOrderType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </inputParam>
            <outputParam>
                <index>1</index>
                <name>ShipmentPaymentOrder</name>
                <type>ShipmentPaymentOrderType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </outputParam>
        </decomposition>
        <decomposition xsi:type="WebServiceGatewayFactsType" id="id4273ba3e-7746-4fb2-a7b5-267a0c0b1859">
            <name>Issue Credit Adjustment</name>
            <inputParam>
                <index>1</index>
                <name>CreditAdjustment</name>
                <type>CreditAdjustmentType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </inputParam>
            <inputParam>
                <index>2</index>
                <name>ShipmentPaymentOrder</name>
                <type>ShipmentPaymentOrderType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </inputParam>
            <outputParam>
                <index>1</index>
                <name>CreditAdjustment</name>
                <type>CreditAdjustmentType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </outputParam>
        </decomposition>
        <decomposition xsi:type="WebServiceGatewayFactsType" id="id1d266264-6735-4c0d-b5e9-d9977a8a7826">
            <name>Issue Debit Adjustment</name>
            <inputParam>
                <index>1</index>
                <name>DebitAdjustment</name>
                <type>DebitAdjustmentType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </inputParam>
            <inputParam>
                <index>2</index>
                <name>ShipmentPaymentOrder</name>
                <type>ShipmentPaymentOrderType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </inputParam>
            <outputParam>
                <index>1</index>
                <name>DebitAdjustment</name>
                <type>DebitAdjustmentType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </outputParam>
        </decomposition>
        <decomposition xsi:type="NetFactsType" isRootNet="true" id="N-Payment">
            <name>Payment</name>
            <inputParam>
                <index>8</index>
                <name>TransportationQuote</name>
                <type>TransportationQuoteType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </inputParam>
            <inputParam>
                <index>9</index>
                <name>POrder</name>
                <type>PurchaseOrderType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </inputParam>
            <localVariable>
                <index>0</index>
                <name>CreditAdjustment</name>
                <type>CreditAdjustmentType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                <initialValue></initialValue>
            </localVariable>
            <localVariable>
                <index>1</index>
                <name>DebitAdjustment</name>
                <type>DebitAdjustmentType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                <initialValue></initialValue>
            </localVariable>
            <localVariable>
                <index>2</index>
                <name>FreightInvoice</name>
                <type>FreightInvoiceType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                <initialValue></initialValue>
            </localVariable>
            <localVariable>
                <index>3</index>
                <name>ShipmentInvoice</name>
                <type>ShipmentInvoiceType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                <initialValue></initialValue>
            </localVariable>
            <localVariable>
                <index>4</index>
                <name>ShipmentPayment</name>
                <type>ShipmentPaymentType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                <initialValue></initialValue>
            </localVariable>
            <localVariable>
                <index>5</index>
                <name>ShipmentPaymentOrder</name>
                <type>ShipmentPaymentOrderType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                <initialValue></initialValue>
            </localVariable>
            <localVariable>
                <index>6</index>
                <name>ShipmentPaymentOrderApproval</name>
                <type>ShipmentPaymentOrderApprovalType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                <initialValue></initialValue>
            </localVariable>
            <localVariable>
                <index>7</index>
                <name>ShipmentRemittanceAdvice</name>
                <type>ShipmentRemittanceAdviceType</type>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
                <initialValue></initialValue>
            </localVariable>
            <processControlElements>
                <inputCondition id="C-InputCondition-44">
                    <flowsInto>
                        <nextElementRef id="C-null-592"/>
                    </flowsInto>
                </inputCondition>
                <task id="C-null-592">
                    <flowsInto>
                        <nextElementRef id="C-null-596"/>
                    </flowsInto>
                    <flowsInto>
                        <nextElementRef id="C-Issue-Shipment-Invoice-594"/>
                    </flowsInto>
                    <join code="xor"/>
                    <split code="and"/>
                    <resourcing>
                        <offer initiator="system">
                            <distributionSet>
<initialSet/>
                            </distributionSet>
                        </offer>
                        <allocate initiator="user"/>
                        <start initiator="user"/>
                    </resourcing>
                    <decomposesTo id="id80fdfa02-33e0-44b7-9e86-02cbbad56404"/>
                </task>
                <task id="C-null-596">
                    <flowsInto>
                        <nextElementRef id="C-Produce-Freight-Invoice-595"/>
                        <predicate ordering="0">/Payment/POrder/InvoiceRequired/text()='true'</predicate>
                    </flowsInto>
                    <flowsInto>
                        <nextElementRef id="C-null-597"/>
                        <isDefaultFlow></isDefaultFlow>
                    </flowsInto>
                    <join code="xor"/>
                    <split code="xor"/>
                    <resourcing>
                        <offer initiator="system">
                            <distributionSet>
<initialSet/>
                            </distributionSet>
                        </offer>
                        <allocate initiator="user"/>
                        <start initiator="user"/>
                    </resourcing>
                    <decomposesTo id="id77dfc299-3fd5-423d-8fec-9776ed3d0a77"/>
                </task>
                <task id="C-Issue-Shipment-Invoice-594">
                    <name>Issue Shipment Invoice</name>
                    <flowsInto>
                        <nextElementRef id="C-Issue-Shipment-Remittance-Advice-601"/>
                        <predicate ordering="0">/Payment/POrder/PrePaid/text()='true'</predicate>
                    </flowsInto>
                    <flowsInto>
                        <nextElementRef id="C-Issue-Shipment-Payment-Order-602"/>
                        <isDefaultFlow></isDefaultFlow>
                    </flowsInto>
                    <join code="xor"/>
                    <split code="xor"/>
                    <startingMappings>
                        <mapping>
                            <expression query="&lt;ShipmentInvoice&gt;&lt;OrderNumber&gt;{/N-Payment/POrder/Order/OrderNumber/text()}&lt;/OrderNumber&gt; &lt;ShipmentNumber&gt;{/N-Payment/TransportationQuote/ShipmentNumber/text()}&lt;/ShipmentNumber&gt;&lt;Company&gt;{/N-Payment/POrder/Company/*}&lt;/Company&gt;&lt;ShipmentCost&gt;{/N-Payment/TransportationQuote/ShipmentCost/text()}&lt;/ShipmentCost&gt;&lt;/ShipmentInvoice&gt;"/>
                            <mapsTo>ShipmentInvoice</mapsTo>
                        </mapping>
                    </startingMappings>
                    <completedMappings>
                        <mapping>
                            <expression query="&lt;ShipmentInvoice&gt;{/C-Issue-Shipment-Invoice-594/ShipmentInvoice/*}&lt;/ShipmentInvoice&gt;"/>
                            <mapsTo>ShipmentInvoice</mapsTo>
                        </mapping>
                    </completedMappings>
                    <resourcing>
                        <offer initiator="system">
                            <distributionSet>
<initialSet/>
                            </distributionSet>
                        </offer>
                        <allocate initiator="user"/>
                        <start initiator="user"/>
                    </resourcing>
                    <decomposesTo id="id5336d049-4c26-4616-bcfa-8332db377066"/>
                </task>
                <task id="C-Issue-Shipment-Remittance-Advice-601">
                    <name>Issue Shipment Remittance Advice</name>
                    <flowsInto>
                        <nextElementRef id="C-null-607"/>
                    </flowsInto>
                    <join code="xor"/>
                    <split code="and"/>
                    <startingMappings>
                        <mapping>
                            <expression query="&lt;ShipmentRemittanceAdvice&gt;&lt;OrderNumber&gt;{/N-Payment/POrder/Order/OrderNumber/text()}&lt;/OrderNumber&gt; &lt;AmountDebited&gt;0.00&lt;/AmountDebited&gt;&lt;/ShipmentRemittanceAdvice&gt;"/>
                            <mapsTo>ShipmentRemittanceAdvice</mapsTo>
                        </mapping>
                    </startingMappings>
                    <completedMappings>
                        <mapping>
                            <expression query="&lt;ShipmentRemittanceAdvice&gt;{/C-Issue-Shipment-Remittance-Advice-601/ShipmentRemittanceAdvice/*}&lt;/ShipmentRemittanceAdvice&gt;"/>
                            <mapsTo>ShipmentRemittanceAdvice</mapsTo>
                        </mapping>
                    </completedMappings>
                    <resourcing>
                        <offer initiator="system">
                            <distributionSet>
<initialSet/>
                            </distributionSet>
                        </offer>
                        <allocate initiator="user"/>
                        <start initiator="user"/>
                    </resourcing>
                    <decomposesTo id="id42f542fb-a594-42b8-9bf8-febb20394c8d"/>
                </task>
                <task id="C-Produce-Freight-Invoice-595">
                    <name>Produce Freight Invoice</name>
                    <flowsInto>
                        <nextElementRef id="C-null-597"/>
                    </flowsInto>
                    <join code="xor"/>
                    <split code="and"/>
                    <startingMappings>
                        <mapping>
                            <expression query="&lt;FreightInvoice&gt;&lt;OrderNumber&gt;{/N-Payment/POrder/Order/OrderNumber/text()}&lt;/OrderNumber&gt; &lt;Company&gt;{/N-Payment/POrder/Company/*}&lt;/Company&gt; &lt;FreightCost&gt;{/N-Payment/POrder/FreightCost/text()}&lt;/FreightCost&gt;&lt;/FreightInvoice&gt;"/>
                            <mapsTo>FreightInvoice</mapsTo>
                        </mapping>
                    </startingMappings>
                    <completedMappings>
                        <mapping>
                            <expression query="&lt;FreightInvoice&gt;{/C-Produce-Freight-Invoice-595/FreightInvoice/*}&lt;/FreightInvoice&gt;"/>
                            <mapsTo>FreightInvoice</mapsTo>
                        </mapping>
                    </completedMappings>
                    <resourcing>
                        <offer initiator="system">
                            <distributionSet>
<initialSet/>
                            </distributionSet>
                        </offer>
                        <allocate initiator="user"/>
                        <start initiator="user"/>
                    </resourcing>
                    <decomposesTo id="idae522318-a4d6-43d2-b1f9-007d10aaef7b"/>
                </task>
                <task id="C-null-597">
                    <flowsInto>
                        <nextElementRef id="C-null-4515"/>
                    </flowsInto>
                    <join code="xor"/>
                    <split code="and"/>
                    <resourcing>
                        <offer initiator="system">
                            <distributionSet>
<initialSet/>
                            </distributionSet>
                        </offer>
                        <allocate initiator="user"/>
                        <start initiator="user"/>
                    </resourcing>
                    <decomposesTo id="f200bbec-c2c5-4674-bb12-139d46e7e987"/>
                </task>
                <task id="C-Issue-Shipment-Payment-Order-602">
                    <name>Issue Shipment Payment Order</name>
                    <flowsInto>
                        <nextElementRef id="C-Approve-Shipment-Payment-Order-593"/>
                    </flowsInto>
                    <join code="xor"/>
                    <split code="and"/>
                    <startingMappings>
                        <mapping>
                            <expression query="&lt;ShipmentPaymentOrder&gt;&lt;ShipmentPaymentOrderNumber/&gt; &lt;OrderNumber&gt;{/N-Payment/POrder/Order/OrderNumber/text()}&lt;/OrderNumber&gt; &lt;ShipmentNumber&gt;{/N-Payment/TransportationQuote/ShipmentNumber/text()}&lt;/ShipmentNumber&gt; &lt;ShipmentCost&gt;{/N-Payment/TransportationQuote/ShipmentCost/text()}&lt;/ShipmentCost&gt; &lt;Beneficiary&gt; &lt;Beneficiary&gt; &lt;Name/&gt; &lt;Address/&gt; &lt;City/&gt; &lt;State/&gt; &lt;PostCode/&gt; &lt;Phone/&gt; &lt;Fax/&gt; &lt;BusinessNumber/&gt; &lt;/Beneficiary&gt; &lt;Bank/&gt; &lt;BankCode/&gt; &lt;AccountName/&gt; &lt;AccountNumber/&gt; &lt;/Beneficiary&gt;&lt;/ShipmentPaymentOrder&gt;"/>
                            <mapsTo>ShipmentPaymentOrder</mapsTo>
                        </mapping>
                    </startingMappings>
                    <completedMappings>
                        <mapping>
                            <expression query="&lt;ShipmentPaymentOrder&gt;{/C-Issue-Shipment-Payment-Order-602/ShipmentPaymentOrder/*}&lt;/ShipmentPaymentOrder&gt;"/>
                            <mapsTo>ShipmentPaymentOrder</mapsTo>
                        </mapping>
                    </completedMappings>
                    <resourcing>
                        <offer initiator="system">
                            <distributionSet>
<initialSet/>
                            </distributionSet>
                        </offer>
                        <allocate initiator="user"/>
                        <start initiator="user"/>
                    </resourcing>
                    <decomposesTo id="f1335212-5b02-4083-82c1-24fb595f0f35"/>
                </task>
                <task id="C-null-607">
                    <flowsInto>
                        <nextElementRef id="C-null-599"/>
                    </flowsInto>
                    <join code="xor"/>
                    <split code="and"/>
                    <resourcing>
                        <offer initiator="system">
                            <distributionSet>
<initialSet/>
                            </distributionSet>
                        </offer>
                        <allocate initiator="user"/>
                        <start initiator="user"/>
                    </resourcing>
                    <decomposesTo id="id05ad7586-02b4-4413-bb4f-784bf02176b4"/>
                </task>
                <task id="C-Approve-Shipment-Payment-Order-593">
                    <name>Approve Shipment Payment Order</name>
                    <flowsInto>
                        <nextElementRef id="C-Update-Shipment-Payment-Order-604"/>
                        <predicate ordering="0">/Payment/ShipmentPaymentOrderApproval/Approved/text()='false'</predicate>
                    </flowsInto>
                    <flowsInto>
                        <nextElementRef id="C-Process-Shipment-Payment-603"/>
                        <isDefaultFlow></isDefaultFlow>
                    </flowsInto>
                    <join code="xor"/>
                    <split code="xor"/>
                    <startingMappings>
                        <mapping>
                            <expression query="&lt;ShipmentPaymentOrder&gt;{/N-Payment/ShipmentPaymentOrder/*}&lt;/ShipmentPaymentOrder&gt;"/>
                            <mapsTo>ShipmentPaymentOrder</mapsTo>
                        </mapping>
                    </startingMappings>
                    <completedMappings>
                        <mapping>
                            <expression query="&lt;ShipmentPaymentOrderApproval&gt;{/C-Approve-Shipment-Payment-Order-593/ShipmentPaymentOrderApproval/*}&lt;/ShipmentPaymentOrderApproval&gt;"/>
                            <mapsTo>ShipmentPaymentOrderApproval</mapsTo>
                        </mapping>
                    </completedMappings>
                    <resourcing>
                        <offer initiator="system">
                            <distributionSet>
<initialSet/>
                            </distributionSet>
                        </offer>
                        <allocate initiator="user"/>
                        <start initiator="user"/>
                    </resourcing>
                    <decomposesTo id="idc1c98484-af17-4051-bb74-5536f58f76b6"/>
                </task>
                <task id="C-null-4515">
                    <flowsInto>
                        <nextElementRef id="C-null-599"/>
                    </flowsInto>
                    <join code="xor"/>
                    <split code="and"/>
                    <resourcing>
                        <offer initiator="system">
                            <distributionSet>
<initialSet/>
                            </distributionSet>
                        </offer>
                        <allocate initiator="user"/>
                        <start initiator="user"/>
                    </resourcing>
                    <decomposesTo id="id1ab1a451-b467-4342-a44f-51b04bedb771"/>
                </task>
                <task id="C-null-599">
                    <flowsInto>
                        <nextElementRef id="C-OutputCondition-45"/>
                    </flowsInto>
                    <join code="and"/>
                    <split code="and"/>
                    <resourcing>
                        <offer initiator="system">
                            <distributionSet>
<initialSet/>
                            </distributionSet>
                        </offer>
                        <allocate initiator="user"/>
                        <start initiator="user"/>
                    </resourcing>
                    <decomposesTo id="id0fa10f9c-5e22-46a6-b661-ae493f1052c6"/>
                </task>
                <task id="C-Process-Shipment-Payment-603">
                    <name>Process Shipment Payment</name>
                    <flowsInto>
                        <nextElementRef id="C-Issue-Credit-Adjustment-606"/>
                        <predicate ordering="0">/Payment/ShipmentPayment/Balance/text()&gt;0</predicate>
                    </flowsInto>
                    <flowsInto>
                        <nextElementRef id="C-Issue-Debit-Adjustment-605"/>
                        <predicate ordering="1">/Payment/ShipmentPayment/Balance/text()&lt;0</predicate>
                    </flowsInto>
                    <flowsInto>
                        <nextElementRef id="C-null-607"/>
                        <isDefaultFlow></isDefaultFlow>
                    </flowsInto>
                    <join code="xor"/>
                    <split code="xor"/>
                    <startingMappings>
                        <mapping>
                            <expression query="&lt;ShipmentPaymentOrder&gt;{/N-Payment/ShipmentPaymentOrder/*}&lt;/ShipmentPaymentOrder&gt;"/>
                            <mapsTo>ShipmentPaymentOrder</mapsTo>
                        </mapping>
                    </startingMappings>
                    <completedMappings>
                        <mapping>
                            <expression query="&lt;ShipmentPayment&gt;{/C-Process-Shipment-Payment-603/ShipmentPayment/*}&lt;/ShipmentPayment&gt;"/>
                            <mapsTo>ShipmentPayment</mapsTo>
                        </mapping>
                    </completedMappings>
                    <resourcing>
                        <offer initiator="system">
                            <distributionSet>
<initialSet/>
                            </distributionSet>
                        </offer>
                        <allocate initiator="user"/>
                        <start initiator="user"/>
                    </resourcing>
                    <decomposesTo id="c528b9b5-d1fe-46d7-9da0-b2ca6d63454c"/>
                </task>
                <task id="C-Update-Shipment-Payment-Order-604">
                    <name>Update Shipment Payment Order</name>
                    <flowsInto>
                        <nextElementRef id="C-Approve-Shipment-Payment-Order-593"/>
                    </flowsInto>
                    <join code="xor"/>
                    <split code="and"/>
                    <startingMappings>
                        <mapping>
                            <expression query="&lt;ShipmentPaymentOrder&gt;{/N-Payment/ShipmentPaymentOrder/*}&lt;/ShipmentPaymentOrder&gt;"/>
                            <mapsTo>ShipmentPaymentOrder</mapsTo>
                        </mapping>
                    </startingMappings>
                    <completedMappings>
                        <mapping>
                            <expression query="&lt;ShipmentPaymentOrder&gt;{/C-Update-Shipment-Payment-Order-604/ShipmentPaymentOrder/*}&lt;/ShipmentPaymentOrder&gt;"/>
                            <mapsTo>ShipmentPaymentOrder</mapsTo>
                        </mapping>
                    </completedMappings>
                    <resourcing>
                        <offer initiator="system">
                            <distributionSet>
<initialSet/>
                            </distributionSet>
                        </offer>
                        <allocate initiator="system">
                            <allocator>
<name>Random</name>
                            </allocator>
                        </allocate>
                        <start initiator="user"/>
                    </resourcing>
                    <decomposesTo id="cfbdc634-ffce-4161-873c-aa3d755adf83"/>
                </task>
                <task id="C-Issue-Credit-Adjustment-606">
                    <name>Issue Credit Adjustment</name>
                    <flowsInto>
                        <nextElementRef id="C-null-607"/>
                    </flowsInto>
                    <join code="xor"/>
                    <split code="and"/>
                    <startingMappings>
                        <mapping>
                            <expression query="&lt;ShipmentPaymentOrder&gt;{/N-Payment/ShipmentPaymentOrder/*}&lt;/ShipmentPaymentOrder&gt;"/>
                            <mapsTo>ShipmentPaymentOrder</mapsTo>
                        </mapping>
                        <mapping>
                            <expression query="&lt;CreditAdjustment&gt;&lt;Reimbursement&gt;{/N-Payment/ShipmentPayment/Balance/text()}&lt;/Reimbursement&gt; &lt;Beneficiary&gt;{/N-Payment/ShipmentPaymentOrder/Beneficiary/*}&lt;/Beneficiary&gt;&lt;/CreditAdjustment&gt;"/>
                            <mapsTo>CreditAdjustment</mapsTo>
                        </mapping>
                    </startingMappings>
                    <completedMappings>
                        <mapping>
                            <expression query="&lt;CreditAdjustment&gt;{/C-Issue-Credit-Adjustment-606/CreditAdjustment/*}&lt;/CreditAdjustment&gt;"/>
                            <mapsTo>CreditAdjustment</mapsTo>
                        </mapping>
                    </completedMappings>
                    <resourcing>
                        <offer initiator="system">
                            <distributionSet>
<initialSet/>
                            </distributionSet>
                        </offer>
                        <allocate initiator="system">
                            <allocator>
<name>ShortestQueue</name>
                            </allocator>
                        </allocate>
                        <start initiator="system"/>
                    </resourcing>
                    <decomposesTo id="id4273ba3e-7746-4fb2-a7b5-267a0c0b1859"/>
                </task>
                <task id="C-Issue-Debit-Adjustment-605">
                    <name>Issue Debit Adjustment</name>
                    <flowsInto>
                        <nextElementRef id="C-Process-Shipment-Payment-603"/>
                    </flowsInto>
                    <join code="xor"/>
                    <split code="and"/>
                    <startingMappings>
                        <mapping>
                            <expression query="&lt;ShipmentPaymentOrder&gt;{/N-Payment/ShipmentPaymentOrder/*}&lt;/ShipmentPaymentOrder&gt;"/>
                            <mapsTo>ShipmentPaymentOrder</mapsTo>
                        </mapping>
                        <mapping>
                            <expression query="&lt;DebitAdjustment&gt;&lt;StillDue&gt;{abs(/N-Payment/ShipmentPayment/Balance/text())}&lt;/StillDue&gt;&lt;/DebitAdjustment&gt;"/>
                            <mapsTo>DebitAdjustment</mapsTo>
                        </mapping>
                    </startingMappings>
                    <completedMappings>
                        <mapping>
                            <expression query="&lt;DebitAdjustment&gt;{/C-Issue-Debit-Adjustment-605/DebitAdjustment/*}&lt;/DebitAdjustment&gt;"/>
                            <mapsTo>DebitAdjustment</mapsTo>
                        </mapping>
                    </completedMappings>
                    <resourcing>
                        <offer initiator="system">
                            <distributionSet>
<initialSet/>
                            </distributionSet>
                        </offer>
                        <allocate initiator="system">
                            <allocator>
<name>ShortestQueue</name>
                            </allocator>
                        </allocate>
                        <start initiator="system"/>
                    </resourcing>
                    <decomposesTo id="id1d266264-6735-4c0d-b5e9-d9977a8a7826"/>
                </task>
                <outputCondition id="C-OutputCondition-45">
                    <name></name>
                </outputCondition>
            </processControlElements>
        </decomposition>
    </specification>
    <layout>
        <locale language="en" country="US"/>
        <specification id="orderfulfillment">
            <size w="100" h="100"/>
            <net id="N-Payment">
                <viewport x="0" y="0" w="800" h="800"/>
                <frame x="0" y="0" w="800" h="800"/>
                <bounds x="0" y="0" w="800" h="800"/>
                <container id="C-InputCondition-44">
                    <vertex>
                        <attributes>
                            <bounds x="10.0" y="200.0" w="32.0" h="32.0"/>
                        </attributes>
                    </vertex>
                    <label>
                        <attributes>
                            <bounds x="-6.0" y="232.0" w="96.0" h="64.0"/>
                        </attributes>
                    </label>
                </container>
                <container id="C-null-592">
                    <vertex>
                        <attributes>
                            <bounds x="110.0" y="200.0" w="32.0" h="32.0"/>
                        </attributes>
                    </vertex>
                    <label>
                        <attributes>
                            <bounds x="89.0" y="232.0" w="96.0" h="64.0"/>
                        </attributes>
                    </label>
                    <decorator type="AND_split">
                        <position>13</position>
                        <attributes>
                            <bounds x="141.0" y="200.0" w="11.0" h="32.0"/>
                            <size w="11" h="32"/>
                        </attributes>
                    </decorator>
                </container>
                <container id="C-null-596">
                    <vertex>
                        <attributes>
                            <bounds x="210.0" y="133.0" w="32.0" h="32.0"/>
                        </attributes>
                    </vertex>
                    <label>
                        <attributes>
                            <bounds x="189.0" y="165.0" w="96.0" h="64.0"/>
                        </attributes>
                    </label>
                    <decorator type="XOR_split">
                        <position>13</position>
                        <attributes>
                            <bounds x="241.0" y="133.0" w="11.0" h="32.0"/>
                            <size w="11" h="32"/>
                        </attributes>
                    </decorator>
                </container>
                <container id="C-Issue-Shipment-Invoice-594">
                    <vertex>
                        <attributes>
                            <bounds x="210.0" y="266.0" w="32.0" h="32.0"/>
                        </attributes>
                    </vertex>
                    <label>
                        <attributes>
                            <bounds x="189.0" y="298.0" w="96.0" h="64.0"/>
                        </attributes>
                    </label>
                    <decorator type="XOR_split">
                        <position>13</position>
                        <attributes>
                            <bounds x="241.0" y="266.0" w="11.0" h="32.0"/>
                            <size w="11" h="32"/>
                        </attributes>
                    </decorator>
                </container>
                <container id="C-Produce-Freight-Invoice-595">
                    <vertex>
                        <attributes>
                            <bounds x="310.0" y="80.0" w="32.0" h="32.0"/>
                        </attributes>
                    </vertex>
                    <label>
                        <attributes>
                            <bounds x="294.0" y="112.0" w="96.0" h="64.0"/>
                        </attributes>
                    </label>
                </container>
                <container id="C-null-597">
                    <vertex>
                        <attributes>
                            <bounds x="310.0" y="160.0" w="32.0" h="32.0"/>
                        </attributes>
                    </vertex>
                    <label>
                        <attributes>
                            <bounds x="289.0" y="192.0" w="96.0" h="64.0"/>
                        </attributes>
                    </label>
                    <decorator type="XOR_join">
                        <position>12</position>
                        <attributes>
                            <bounds x="300.0" y="160.0" w="11.0" h="32.0"/>
                            <size w="11" h="32"/>
                        </attributes>
                    </decorator>
                </container>
                <container id="C-Issue-Shipment-Remittance-Advice-601">
                    <vertex>
                        <attributes>
                            <bounds x="310.0" y="240.0" w="32.0" h="32.0"/>
                        </attributes>
                    </vertex>
                    <label>
                        <attributes>
                            <bounds x="294.0" y="272.0" w="96.0" h="64.0"/>
                        </attributes>
                    </label>
                </container>
                <container id="C-Issue-Shipment-Payment-Order-602">
                    <vertex>
                        <attributes>
                            <bounds x="310.0" y="320.0" w="32.0" h="32.0"/>
                        </attributes>
                    </vertex>
                    <label>
                        <attributes>
                            <bounds x="294.0" y="352.0" w="96.0" h="64.0"/>
                        </attributes>
                    </label>
                </container>
                <container id="C-null-4515">
                    <vertex>
                        <attributes>
                            <bounds x="410.0" y="100.0" w="32.0" h="32.0"/>
                        </attributes>
                    </vertex>
                    <label>
                        <attributes>
                            <bounds x="394.0" y="132.0" w="96.0" h="64.0"/>
                        </attributes>
                    </label>
                </container>
                <container id="C-null-607">
                    <vertex>
                        <attributes>
                            <bounds x="410.0" y="200.0" w="32.0" h="32.0"/>
                        </attributes>
                    </vertex>
                    <label>
                        <attributes>
                            <bounds x="389.0" y="232.0" w="96.0" h="64.0"/>
                        </attributes>
                    </label>
                    <decorator type="XOR_join">
                        <position>12</position>
                        <attributes>
                            <bounds x="400.0" y="200.0" w="11.0" h="32.0"/>
                            <size w="11" h="32"/>
                        </attributes>
                    </decorator>
                </container>
                <container id="C-Approve-Shipment-Payment-Order-593">
                    <vertex>
                        <attributes>
                            <bounds x="410.0" y="300.0" w="32.0" h="32.0"/>
                        </attributes>
                    </vertex>
                    <label>
                        <attributes>
                            <bounds x="383.0" y="332.0" w="96.0" h="64.0"/>
                        </attributes>
                    </label>
                    <decorator type="XOR_join">
                        <position>12</position>
                        <attributes>
                            <bounds x="400.0" y="300.0" w="11.0" h="32.0"/>
                            <size w="11" h="32"/>
                        </attributes>
                    </decorator>
                    <decorator type="XOR_split">
                        <position>13</position>
                        <attributes>
                            <bounds x="441.0" y="300.0" w="11.0" h="32.0"/>
                            <size w="11" h="32"/>
                        </attributes>
                    </decorator>
                </container>
                <container id="C-null-599">
                    <vertex>
                        <attributes>
                            <bounds x="510.0" y="100.0" w="32.0" h="32.0"/>
                        </attributes>
                    </vertex>
                    <label>
                        <attributes>
                            <bounds x="489.0" y="132.0" w="96.0" h="64.0"/>
                        </attributes>
                    </label>
                    <decorator type="AND_join">
                        <position>12</position>
                        <attributes>
                            <bounds x="500.0" y="100.0" w="11.0" h="32.0"/>
                            <size w="11" h="32"/>
                        </attributes>
                    </decorator>
                </container>
                <container id="C-Update-Shipment-Payment-Order-604">
                    <vertex>
                        <attributes>
                            <bounds x="510.0" y="200.0" w="32.0" h="32.0"/>
                        </attributes>
                    </vertex>
                    <label>
                        <attributes>
                            <bounds x="494.0" y="232.0" w="96.0" h="64.0"/>
                        </attributes>
                    </label>
                </container>
                <container id="C-Process-Shipment-Payment-603">
                    <vertex>
                        <attributes>
                            <bounds x="510.0" y="300.0" w="32.0" h="32.0"/>
                        </attributes>
                    </vertex>
                    <label>
                        <attributes>
                            <bounds x="483.0" y="332.0" w="96.0" h="64.0"/>
                        </attributes>
                    </label>
                    <decorator type="XOR_join">
                        <position>12</position>
                        <attributes>
                            <bounds x="500.0" y="300.0" w="11.0" h="32.0"/>
                            <size w="11" h="32"/>
                        </attributes>
                    </decorator>
                    <decorator type="XOR_split">
                        <position>13</position>
                        <attributes>
                            <bounds x="541.0" y="300.0" w="11.0" h="32.0"/>
                            <size w="11" h="32"/>
                        </attributes>
                    </decorator>
                </container>
                <container id="C-OutputCondition-45">
                    <vertex>
                        <attributes>
                            <bounds x="610.0" y="100.0" w="32.0" h="32.0"/>
                        </attributes>
                    </vertex>
                    <label>
                        <attributes>
                            <bounds x="594.0" y="132.0" w="96.0" h="64.0"/>
                        </attributes>
                    </label>
                </container>
                <container id="C-Issue-Credit-Adjustment-606">
                    <vertex>
                        <attributes>
                            <bounds x="610.0" y="200.0" w="32.0" h="32.0"/>
                        </attributes>
                    </vertex>
                    <label>
                        <attributes>
                            <bounds x="594.0" y="232.0" w="96.0" h="64.0"/>
                        </attributes>
                    </label>
                </container>
                <container id="C-Issue-Debit-Adjustment-605">
                    <vertex>
                        <attributes>
                            <bounds x="610.0" y="300.0" w="32.0" h="32.0"/>
                        </attributes>
                    </vertex>
                    <label>
                        <attributes>
                            <bounds x="594.0" y="332.0" w="96.0" h="64.0"/>
                        </attributes>
                    </label>
                </container>
                <flow source="C-Produce-Freight-Invoice-595" target="C-null-597">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="326.0" y="96.0"/>
                            <value x="326.0" y="176.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-Process-Shipment-Payment-603" target="C-Issue-Debit-Adjustment-605">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="526.0" y="316.0"/>
                            <value x="626.0" y="316.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-Approve-Shipment-Payment-Order-593" target="C-Process-Shipment-Payment-603">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="426.0" y="316.0"/>
                            <value x="526.0" y="316.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-null-597" target="C-null-4515">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="326.0" y="176.0"/>
                            <value x="426.0" y="116.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-Issue-Shipment-Payment-Order-602" target="C-Approve-Shipment-Payment-Order-593">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="326.0" y="336.0"/>
                            <value x="426.0" y="316.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-null-4515" target="C-null-599">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="426.0" y="116.0"/>
                            <value x="526.0" y="116.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-Issue-Debit-Adjustment-605" target="C-Process-Shipment-Payment-603">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="626.0" y="316.0"/>
                            <value x="526.0" y="316.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-Approve-Shipment-Payment-Order-593" target="C-Update-Shipment-Payment-Order-604">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="426.0" y="316.0"/>
                            <value x="526.0" y="216.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-Issue-Credit-Adjustment-606" target="C-null-607">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="626.0" y="216.0"/>
                            <value x="426.0" y="216.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-Issue-Shipment-Invoice-594" target="C-Issue-Shipment-Payment-Order-602">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="226.0" y="282.0"/>
                            <value x="326.0" y="336.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-null-596" target="C-null-597">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="226.0" y="149.0"/>
                            <value x="326.0" y="176.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-Process-Shipment-Payment-603" target="C-null-607">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="526.0" y="316.0"/>
                            <value x="426.0" y="216.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-null-592" target="C-null-596">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="126.0" y="216.0"/>
                            <value x="226.0" y="149.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-null-599" target="C-OutputCondition-45">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="526.0" y="116.0"/>
                            <value x="626.0" y="116.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-null-596" target="C-Produce-Freight-Invoice-595">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="226.0" y="149.0"/>
                            <value x="326.0" y="96.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-null-592" target="C-Issue-Shipment-Invoice-594">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="126.0" y="216.0"/>
                            <value x="226.0" y="282.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-Process-Shipment-Payment-603" target="C-Issue-Credit-Adjustment-606">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="526.0" y="316.0"/>
                            <value x="626.0" y="216.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-null-607" target="C-null-599">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="426.0" y="216.0"/>
                            <value x="526.0" y="116.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-Issue-Shipment-Remittance-Advice-601" target="C-null-607">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="326.0" y="256.0"/>
                            <value x="426.0" y="216.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-InputCondition-44" target="C-null-592">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="26.0" y="216.0"/>
                            <value x="126.0" y="216.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-Update-Shipment-Payment-Order-604" target="C-Approve-Shipment-Payment-Order-593">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="526.0" y="216.0"/>
                            <value x="426.0" y="316.0"/>
                        </points>
                    </attributes>
                </flow>
                <flow source="C-Issue-Shipment-Invoice-594" target="C-Issue-Shipment-Remittance-Advice-601">
                    <ports in="14" out="14"/>
                    <attributes>
                        <lineStyle>11</lineStyle>
                        <points>
                            <value x="226.0" y="282.0"/>
                            <value x="326.0" y="256.0"/>
                        </points>
                    </attributes>
                </flow>
            </net>
        </specification>
    </layout>
</specificationSet>
